#!/bin/sh
# usage sh 0repos.sh
# eg: sh 0repos.sh precise

ubuntu_name=$(lsb_release -sc)

sudo rm -R /etc/apt/sources.list.d/*
sudo cat > /etc/apt/sources.list <<EOF
deb http://mirrors.163.com/ubuntu/ ${ubuntu_name} main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ ${ubuntu_name}-security main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ ${ubuntu_name}-updates main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ ${ubuntu_name}-proposed main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ ${ubuntu_name}-backports main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ ${ubuntu_name} main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ ${ubuntu_name}-security main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ ${ubuntu_name}-updates main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ ${ubuntu_name}-proposed main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ ${ubuntu_name}-backports main restricted universe multiverse

deb http://archive.ubuntu.com/ubuntu/ ${ubuntu_name} main restricted universe multiverse
deb http://archive.ubuntu.com/ubuntu/ ${ubuntu_name}-security main restricted universe multiverse
deb http://archive.ubuntu.com/ubuntu/ ${ubuntu_name}-updates main restricted universe multiverse
deb http://archive.ubuntu.com/ubuntu/ ${ubuntu_name}-proposed main restricted universe multiverse
deb http://archive.ubuntu.com/ubuntu/ ${ubuntu_name}-backports main restricted universe multiverse
deb-src http://archive.ubuntu.com/ubuntu/ ${ubuntu_name} main restricted universe multiverse
deb-src http://archive.ubuntu.com/ubuntu/ ${ubuntu_name}-security main restricted universe multiverse
deb-src http://archive.ubuntu.com/ubuntu/ ${ubuntu_name}-updates main restricted universe multiverse
deb-src http://archive.ubuntu.com/ubuntu/ ${ubuntu_name}-proposed main restricted universe multiverse
deb-src http://archive.ubuntu.com/ubuntu/ ${ubuntu_name}-backports main restricted universe multiverse
EOF

## sohu repos
sudo touch /etc/apt/sources.list.d/sohu.list
sudo cat > /etc/apt/sources.list.d/sohu.list <<EOF
    deb http://mirrors.sohu.com/ubuntu/ ${ubuntu_name} main restricted universe multiverse
    deb http://mirrors.sohu.com/ubuntu/ ${ubuntu_name}-security main restricted universe multiverse
    deb http://mirrors.sohu.com/ubuntu/ ${ubuntu_name}-updates main restricted universe multiverse
    deb http://mirrors.sohu.com/ubuntu/ ${ubuntu_name}-proposed main restricted universe multiverse
    deb http://mirrors.sohu.com/ubuntu/ ${ubuntu_name}-backports main restricted universe multiverse
    deb-src http://mirrors.sohu.com/ubuntu/ ${ubuntu_name} main restricted universe multiverse
    deb-src http://mirrors.sohu.com/ubuntu/ ${ubuntu_name}-security main restricted universe multiverse
    deb-src http://mirrors.sohu.com/ubuntu/ ${ubuntu_name}-updates main restricted universe multiverse
    deb-src http://mirrors.sohu.com/ubuntu/ ${ubuntu_name}-proposed main restricted universe multiverse
    deb-src http://mirrors.sohu.com/ubuntu/ ${ubuntu_name}-backports main restricted universe multiverse
EOF

## google-chrome repos
sudo wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | sudo apt-key add - 
sudo echo "deb http://dl.google.com/linux/chrome/deb/ stable main" >> /etc/apt/sources.list.d/google.list

## ceph repos (http://eu.ceph.com/docs/wip-6919/start/quick-start/)
sudo wget -q -O- https://raw.github.com/ceph/ceph/master/keys/release.asc | sudo apt-key add -
sudo echo deb http://ceph.com/debian/ ${ubuntu_name} main | sudo tee /etc/apt/sources.list.d/ceph.list

sudo apt-get update

